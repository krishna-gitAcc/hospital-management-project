syntax = "proto3";

package com.hospital.common.proto;

option java_multiple_files = true;
option java_package = "com.hospital.common.proto";
option java_outer_classname = "AuthProto";

// Auth Service
service AuthService{
    rpc ValidateToken(ValidateTokenRequest) returns (ValidateTokenResponse);
    rpc GetUserById(GetUserRequest) returns (UserResponse);
    rpc GetUserByEmail(GetUserByEmailRequest) returns (UserResponse);
}

message ValidateTokenRequest{
    string token = 1;
}

message ValidateTokenResponse{
    bool valid = 1;
    string user_id = 2;
    string email = 3;
    string role = 4;
    string message = 5;
}

message GetUserRequest{
    string user_id = 1;
}

message UserResponse{
    string id = 1;
    string email = 2;
    string role = 3;
    string name = 4;
    string active = 5;
}

message GetUserByEmailRequest{
    string email = 1;
}
